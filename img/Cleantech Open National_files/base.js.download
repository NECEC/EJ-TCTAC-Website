var platform_name,ajax_request,submissionButtonClicked=!1;function loadData(o,a,t,e,s,n){ajax_request&&4!=ajax_request.readyState&&ajax_request.abort(),ajax_request=$.ajax({url:o,type:t,async:s,cache:n,success:function(o){$(a).html(o),"function"==typeof callback&&callback()},error:function(a){console.log("Error: "+o)},dataType:e})}function loadDataNoScroll(o,a,t,e,s,n){ajax_request&&4!=ajax_request.readyState&&ajax_request.abort(),ajax_request=$.ajax({url:o,type:t,async:s,cache:n,success:function(o){$(a).html(o)},error:function(a){console.log("Error: "+o)},dataType:e})}document.addEventListener("DOMContentLoaded",(function(){platform_name=$("#platform_info").data("platform-name"),$("#main_header_registration a#signin").on("click",(function(){return!1===$(this).data("modal")||($("#modal").load($("a#signin").data("url"),(function(){$(this).fadeIn("slow").modal("show")})),!1)})),$("#modal,#modal3").on("click","#submittermsandconditionbutton",(function(o){var a=$(this),t=$(this).val(),e=$("form#submit-terms-and-condition");return $(this).val($(this).data("loading")),$.ajax({type:"POST",url:e.attr("action"),data:e.serialize(),dataType:"json",success:function(o){if("success"==o.status)document.location.href=o.url,a.val(t);else if("accept"==o.status)$(".error_message").show(),a.val(t);else if("choose"===o.status){var s=e.data("text-track"),n=[];$.each(o.tracks,(function(o,a){n.push("<option value="+o+">"+a+"</option>")}));var i=$("<select/>",{html:n.join("")}).attr("name","TermsAndCondition[track_slug]");$("#submissionagree").remove(),$("#modal .modal-body").html("").append($("<h4/>").html(s)).append(i),$("#modal3 .modal-body").html("").append($("<h4/>").html(s)).append(i),$("form#submit-terms-and-condition").attr("action",$("#submit-terms-and-condition-modal").data("accepted")),a.val(t)}else a.val(t)}}),o.preventDefault(),!1})),$(document).on("click","a#submission_button:not(.submission_button),a.submission_button",(function(){if($(this).hasClass("submission_button_judging")||$(this).hasClass("submission_button_closed"))return!1;if(submissionButtonClicked)return!1;submissionButtonClicked=!0;var o=$("#user_info").data("auth"),a=($("#platform_info").data("platform-name"),$("#submission_button").data("bootstrap")),t=$(this).data("challenge");if(o)$(this).hasClass("submission_button_closed")||$.ajax({url:$(this).data("url"),dataType:"json",success:function(o){void 0!==o.error?submissionButtonClicked=!1:"false"==o.response||"false"==o.status?(submissionButtonClicked=!1,3==a?($("#modal3").load(o.url,(function(){$(this).modal({keyboard:!0,backdrop:!0})})).modal("show"),$(".main-loader-fullscreen").remove()):$("#modal").load(o.url,(function(){$(this).modal({keyboard:!0,backdrop:!0})})).modal("show")):document.location.href=o.url},error:function(){submissionButtonClicked=!1,console.log("Error on new submission request.")}});else{var e=$("a#register_a").attr("href");if(void 0!==e&&!1!==e||(e=$("a#register_a").data("url")),void 0===e||!1===e)return e=$("a#acc_signin").attr("href"),void 0!==t&&(e=e+"?fromSubmitButton="+parseInt(t)),document.location.href=e,!1;void 0!==t&&(e=e+"/"+t),document.location.href=e}return!1})),$("#modal3").on("hidden.bs.modal",(function(){$("#modal").modal("hide"),submissionButtonClicked=!1})),$("#modal").on("hidden",(function(){$("#modal3").modal("hide"),submissionButtonClicked=!1})),$("#modal3, #modal").on("show.bs.modal",(function(){$("body").addClass("has-modal-loading")})),$("#modal3, #modal").on("shown.bs.modal",(function(){$("body").removeClass("has-modal-loading"),$("body").addClass("has-modal-loaded")})),$("#modal3, #modal").on("hide.bs.modal",(function(){$("body").addClass("has-modal-leaving"),$("body").removeClass("has-modal-loaded")})),$("#modal3, #modal").on("hidden.bs.modal",(function(){$("body").removeClass("has-modal-leaving")})),$("body").tooltip({selector:".ttip",items:".ttip",close:function(o,a){$(".ui-helper-hidden-accessible").remove()}}),$(document).ready((function(){$("body").popover({selector:".js-popover",trigger:"hover focus",items:".js-popover"})})),"true"==$("#badge_notification").attr("data-show")&&$("#modal3").load($("#badge_notification").attr("data-url"),(function(){$(this).modal({keyboard:!0,backdrop:!0}),$(".main-loader-fullscreen").remove()})).modal("show"),initializeSwitchery(),$("body").on("click",".contact-button.js-AddModalClass",(function(){modal_class="mct-Modal",""!=modal_class&&$(".modal").on("show.bs.modal",(function(){$(this).addClass(modal_class)}))})),$(document).on("click","a.accordion-toggle",(function(o){$(o.target).parent().siblings(".accordion-body").on("hidden",(function(o){o.stopPropagation()}))})),$("body").on("click",".assign-to.section-links",(function(o){o.preventDefault(),$("body").addClass("is-loading"),$("#error_ajax_message").addClass("hide");var a=$(this).closest("form"),t=a.attr("data-url"),e=$(this).data("url");$.post(t,a.serialize(),(function(o){"success"==o.status?window.location=e:($("body").removeClass("is-loading"),console.log("not completed"),$("#error_ajax_message .text-semibold").html(o.message),$("#error_ajax_message").removeClass("hide"))}),"json")})),$("#modal3, #modal").on("hidden.bs.modal",(function(){$(this).attr("class","modal fade")}));$(".fontsize").on("click","a",(function(){for(var o=$(this).data("size"),a=o>0,t=document.getElementsByTagName("body"),e=0;e<t.length;e++){if(t[e].style.fontSize)var s=parseInt(t[e].style.fontSize.replace("%",""));else s=100;t[e].style.fontSize=a?s+o<140?s+o+"%":"140%":s+o>100?s+o+"%":"100%"}}))}));var bootstrap_alert=function(o,a,t){void 0===t&&(t=""),$("#flash_message").html('<div class="container"><div class="alert '+o+'"><button class="close" data-dismiss="alert">Ã—</button>'+a+"</div></div>")};function initializeSwitchery(){Array.prototype.slice.call(document.querySelectorAll(".switchery")).forEach((function(o){new Switchery(o)}))}document.addEventListener("DOMContentLoaded",(function(){0!=$(".sidebar-content").find("li").length?$("body").find(".js-sidebar-check").addClass("is-visible"):$("body").find(".js-sidebar-check").addClass("hide")})),$("body").on("change",".file_container input[type=file]",(function(o){$(this).closest(".file_container").find(".file-privacy-check input[type=checkbox]").prop("required","required")})),$("body").on("change",".file-privacy-check input[type=checkbox]",(function(o){$(this).is(":checked")?$(this).closest(".file_container").find("input.fileupload").prop("disabled",!1):$(this).closest(".file_container").find("input.fileupload").prop("disabled","disabled")})),$(".psw-field-cont").find(".psw-field-toggle").on("click",(function(o){var a=$(this).find("i"),t=$(this).parent().find("input");"password"===t.attr("type")?(t.attr("type","text"),$(a).removeClass("icon-eye"),$(a).addClass("icon-eye-blocked")):(t.attr("type","password"),$(a).removeClass("icon-eye-blocked"),$(a).addClass("icon-eye"))}));