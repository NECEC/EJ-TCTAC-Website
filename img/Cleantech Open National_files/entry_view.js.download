/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.2.2/LICENSE */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).DOMPurify=t()}(this,(function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,a=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,i=Object.freeze,r=Object.seal,s=Object.create,l="undefined"!=typeof Reflect&&Reflect,c=l.apply,d=l.construct;c||(c=function(e,t,n){return e.apply(t,n)}),i||(i=function(e){return e}),r||(r=function(e){return e}),d||(d=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var u,m=x(Array.prototype.forEach),p=x(Array.prototype.pop),f=x(Array.prototype.push),h=x(String.prototype.toLowerCase),g=x(String.prototype.match),v=x(String.prototype.replace),y=x(String.prototype.indexOf),b=x(String.prototype.trim),$=x(RegExp.prototype.test),w=(u=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d(u,t)});function x(e){return function(t){for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return c(e,t,a)}}function k(e,a){t&&t(e,null);for(var o=a.length;o--;){var i=a[o];if("string"==typeof i){var r=h(i);r!==i&&(n(a)||(a[o]=r),i=r)}e[i]=!0}return e}function _(t){var n=s(null),a=void 0;for(a in t)c(e,t,[a])&&(n[a]=t[a]);return n}function T(e,t){for(;null!==e;){var n=o(e,t);if(n){if(n.get)return x(n.get);if("function"==typeof n.value)return x(n.value)}e=a(e)}return function(e){return console.warn("fallback value for",e),null}}var A=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),C=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),S=i(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),L=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),N=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),D=i(["#text"]),O=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),j=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),M=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),z=r(/\{\{[\s\S]*|[\s\S]*\}\}/gm),I=r(/<%[\s\S]*|[\s\S]*%>/gm),F=r(/^data-[\-\w.\u00B7-\uFFFF]/),B=r(/^aria-[\-\w]+$/),P=r(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),q=r(/^(?:\w+script|data):/i),U=r(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function H(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var V=function(){return"undefined"==typeof window?null:window},G=function(e,t){if("object"!==(void 0===e?"undefined":W(e))||"function"!=typeof e.createPolicy)return null;var n=null,a="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(a)&&(n=t.currentScript.getAttribute(a));var o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V(),n=function(t){return e(t)};if(n.version="2.2.6",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var a=t.document,o=t.document,r=t.DocumentFragment,s=t.HTMLTemplateElement,l=t.Node,c=t.Element,d=t.NodeFilter,u=t.NamedNodeMap,x=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,K=t.Text,Y=t.Comment,J=t.DOMParser,X=t.trustedTypes,Z=c.prototype,Q=T(Z,"cloneNode"),ee=T(Z,"nextSibling"),te=T(Z,"childNodes"),ne=T(Z,"parentNode");if("function"==typeof s){var ae=o.createElement("template");ae.content&&ae.content.ownerDocument&&(o=ae.content.ownerDocument)}var oe=G(X,a),ie=oe&&ze?oe.createHTML(""):"",re=o,se=re.implementation,le=re.createNodeIterator,ce=re.getElementsByTagName,de=re.createDocumentFragment,ue=a.importNode,me={};try{me=_(o).documentMode?o.documentMode:{}}catch(e){}var pe={};n.isSupported="function"==typeof ne&&se&&void 0!==se.createHTMLDocument&&9!==me;var fe=z,he=I,ge=F,ve=B,ye=q,be=U,$e=P,we=null,xe=k({},[].concat(H(A),H(E),H(C),H(L),H(D))),ke=null,_e=k({},[].concat(H(O),H(j),H(R),H(M))),Te=null,Ae=null,Ee=!0,Ce=!0,Se=!1,Le=!1,Ne=!1,De=!1,Oe=!1,je=!1,Re=!1,Me=!0,ze=!1,Ie=!0,Fe=!0,Be=!1,Pe={},qe=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ue=null,We=k({},["audio","video","img","source","image","track"]),He=null,Ve=k({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ge=null,Ke=o.createElement("form"),Ye=function(e){Ge&&Ge===e||(e&&"object"===(void 0===e?"undefined":W(e))||(e={}),e=_(e),we="ALLOWED_TAGS"in e?k({},e.ALLOWED_TAGS):xe,ke="ALLOWED_ATTR"in e?k({},e.ALLOWED_ATTR):_e,He="ADD_URI_SAFE_ATTR"in e?k(_(Ve),e.ADD_URI_SAFE_ATTR):Ve,Ue="ADD_DATA_URI_TAGS"in e?k(_(We),e.ADD_DATA_URI_TAGS):We,Te="FORBID_TAGS"in e?k({},e.FORBID_TAGS):{},Ae="FORBID_ATTR"in e?k({},e.FORBID_ATTR):{},Pe="USE_PROFILES"in e&&e.USE_PROFILES,Ee=!1!==e.ALLOW_ARIA_ATTR,Ce=!1!==e.ALLOW_DATA_ATTR,Se=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=e.SAFE_FOR_TEMPLATES||!1,Ne=e.WHOLE_DOCUMENT||!1,je=e.RETURN_DOM||!1,Re=e.RETURN_DOM_FRAGMENT||!1,Me=!1!==e.RETURN_DOM_IMPORT,ze=e.RETURN_TRUSTED_TYPE||!1,Oe=e.FORCE_BODY||!1,Ie=!1!==e.SANITIZE_DOM,Fe=!1!==e.KEEP_CONTENT,Be=e.IN_PLACE||!1,$e=e.ALLOWED_URI_REGEXP||$e,Le&&(Ce=!1),Re&&(je=!0),Pe&&(we=k({},[].concat(H(D))),ke=[],!0===Pe.html&&(k(we,A),k(ke,O)),!0===Pe.svg&&(k(we,E),k(ke,j),k(ke,M)),!0===Pe.svgFilters&&(k(we,C),k(ke,j),k(ke,M)),!0===Pe.mathMl&&(k(we,L),k(ke,R),k(ke,M))),e.ADD_TAGS&&(we===xe&&(we=_(we)),k(we,e.ADD_TAGS)),e.ADD_ATTR&&(ke===_e&&(ke=_(ke)),k(ke,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&k(He,e.ADD_URI_SAFE_ATTR),Fe&&(we["#text"]=!0),Ne&&k(we,["html","head","body"]),we.table&&(k(we,["tbody"]),delete Te.tbody),i&&i(e),Ge=e)},Je=k({},["mi","mo","mn","ms","mtext"]),Xe=k({},["foreignobject","desc","title","annotation-xml"]),Ze=k({},E);k(Ze,C),k(Ze,S);var Qe=k({},L);k(Qe,N);var et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml",at=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:nt,tagName:"template"});var n=h(e.tagName),a=h(t.tagName);if(e.namespaceURI===tt)return t.namespaceURI===nt?"svg"===n:t.namespaceURI===et?"svg"===n&&("annotation-xml"===a||Je[a]):Boolean(Ze[n]);if(e.namespaceURI===et)return t.namespaceURI===nt?"math"===n:t.namespaceURI===tt?"math"===n&&Xe[a]:Boolean(Qe[n]);if(e.namespaceURI===nt){if(t.namespaceURI===tt&&!Xe[a])return!1;if(t.namespaceURI===et&&!Je[a])return!1;var o=k({},["title","style","font","a","script"]);return!Qe[n]&&(o[n]||!Ze[n])}return!1},ot=function(e){f(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ie}catch(t){e.remove()}}},it=function(e,t){try{f(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){f(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ke[e])if(je||Re)try{ot(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},rt=function(e){var t=void 0,n=void 0;if(Oe)e="<remove></remove>"+e;else{var a=g(e,/^[\r\n\t ]+/);n=a&&a[0]}var i=oe?oe.createHTML(e):e;try{t=(new J).parseFromString(i,"text/html")}catch(e){}if(!t||!t.documentElement){var r=(t=se.createHTMLDocument("")).body;r.parentNode.removeChild(r.parentNode.firstElementChild),r.outerHTML=i}return e&&n&&t.body.insertBefore(o.createTextNode(n),t.body.childNodes[0]||null),ce.call(t,Ne?"html":"body")[0]},st=function(e){return le.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,(function(){return d.FILTER_ACCEPT}),!1)},lt=function(e){return!(e instanceof K||e instanceof Y||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof x&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},ct=function(e){return"object"===(void 0===l?"undefined":W(l))?e instanceof l:e&&"object"===(void 0===e?"undefined":W(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},dt=function(e,t,a){pe[e]&&m(pe[e],(function(e){e.call(n,t,a,Ge)}))},ut=function(e){var t=void 0;if(dt("beforeSanitizeElements",e,null),lt(e))return ot(e),!0;if(g(e.nodeName,/[\u0080-\uFFFF]/))return ot(e),!0;var a=h(e.nodeName);if(dt("uponSanitizeElement",e,{tagName:a,allowedTags:we}),!ct(e.firstElementChild)&&(!ct(e.content)||!ct(e.content.firstElementChild))&&$(/<[/\w]/g,e.innerHTML)&&$(/<[/\w]/g,e.textContent))return ot(e),!0;if(!we[a]||Te[a]){if(Fe&&!qe[a]){var o=ne(e),i=te(e);if(i&&o)for(var r=i.length-1;r>=0;--r)o.insertBefore(Q(i[r],!0),ee(e))}return ot(e),!0}return e instanceof c&&!at(e)?(ot(e),!0):"noscript"!==a&&"noembed"!==a||!$(/<\/no(script|embed)/i,e.innerHTML)?(Le&&3===e.nodeType&&(t=e.textContent,t=v(t,fe," "),t=v(t,he," "),e.textContent!==t&&(f(n.removed,{element:e.cloneNode()}),e.textContent=t)),dt("afterSanitizeElements",e,null),!1):(ot(e),!0)},mt=function(e,t,n){if(Ie&&("id"===t||"name"===t)&&(n in o||n in Ke))return!1;if(Ce&&$(ge,t));else if(Ee&&$(ve,t));else{if(!ke[t]||Ae[t])return!1;if(He[t]);else if($($e,v(n,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==y(n,"data:")||!Ue[e])if(Se&&!$(ye,v(n,be,"")));else if(n)return!1}return!0},pt=function(e){var t=void 0,a=void 0,o=void 0,i=void 0;dt("beforeSanitizeAttributes",e,null);var r=e.attributes;if(r){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ke};for(i=r.length;i--;){var l=t=r[i],c=l.name,d=l.namespaceURI;if(a=b(t.value),o=h(c),s.attrName=o,s.attrValue=a,s.keepAttr=!0,s.forceKeepAttr=void 0,dt("uponSanitizeAttribute",e,s),a=s.attrValue,!s.forceKeepAttr&&(it(c,e),s.keepAttr))if($(/\/>/i,a))it(c,e);else{Le&&(a=v(a,fe," "),a=v(a,he," "));var u=e.nodeName.toLowerCase();if(mt(u,o,a))try{d?e.setAttributeNS(d,c,a):e.setAttribute(c,a),p(n.removed)}catch(e){}}}dt("afterSanitizeAttributes",e,null)}},ft=function e(t){var n=void 0,a=st(t);for(dt("beforeSanitizeShadowDOM",t,null);n=a.nextNode();)dt("uponSanitizeShadowNode",n,null),ut(n)||(n.content instanceof r&&e(n.content),pt(n));dt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,o){var i=void 0,s=void 0,c=void 0,d=void 0,u=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!ct(e)){if("function"!=typeof e.toString)throw w("toString is not a function");if("string"!=typeof(e=e.toString()))throw w("dirty is not a string, aborting")}if(!n.isSupported){if("object"===W(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(ct(e))return t.toStaticHTML(e.outerHTML)}return e}if(De||Ye(o),n.removed=[],"string"==typeof e&&(Be=!1),Be);else if(e instanceof l)1===(s=(i=rt("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?i=s:i.appendChild(s);else{if(!je&&!Le&&!Ne&&-1===e.indexOf("<"))return oe&&ze?oe.createHTML(e):e;if(!(i=rt(e)))return je?null:ie}i&&Oe&&ot(i.firstChild);for(var m=st(Be?e:i);c=m.nextNode();)3===c.nodeType&&c===d||ut(c)||(c.content instanceof r&&ft(c.content),pt(c),d=c);if(d=null,Be)return e;if(je){if(Re)for(u=de.call(i.ownerDocument);i.firstChild;)u.appendChild(i.firstChild);else u=i;return Me&&(u=ue.call(a,u,!0)),u}var p=Ne?i.outerHTML:i.innerHTML;return Le&&(p=v(p,fe," "),p=v(p,he," ")),oe&&ze?oe.createHTML(p):p},n.setConfig=function(e){Ye(e),De=!0},n.clearConfig=function(){Ge=null,De=!1},n.isValidAttribute=function(e,t,n){Ge||Ye({});var a=h(e),o=h(t);return mt(a,o,n)},n.addHook=function(e,t){"function"==typeof t&&(pe[e]=pe[e]||[],f(pe[e],t))},n.removeHook=function(e){pe[e]&&p(pe[e])},n.removeHooks=function(e){pe[e]&&(pe[e]=[])},n.removeAllHooks=function(){pe={}},n}()}));var in_progress=!1;const platformInfo=document.getElementById("platform_info"),platformName=platformInfo?platformInfo.getAttribute("data-platform-name"):"default";function customizeWidgets(e){$(document).find("span.badges-class, dl.badges-class").each((function(){var e="";if(""!=(e=$(this).is("span")?$.trim($(this).text()).toLowerCase():$(this).find("dd").find("span").length?"":$.trim($(this).find("dd").html()).toLowerCase())&&"click to edit"!=e){var t="";$.each(e.split(", "),(function(e,n){t+='<span class="de_RibbonContainer_icon icon-medal '+n+'"></span>'})),$("div.span9 header.f-widget-header").append('<div class="de_RibbonContainer">'+t+"</div>")}}))}function showExportModal(e){return void 0!==e.attr("target")&&"_blank"===e.attr("target")?(window.open(e.attr("href"),"_blank"),!1):($("#entries-counter-value").attr("data-count")>200?bootbox.alert(e.data("max-error")):$("#modal").load(e.attr("href"),(function(){$("#modal").fadeIn().modal("show")})),!1)}function hideEmptyWrappers(){if("undefined"==typeof isBackend||!isBackend){var e=document.querySelectorAll(".custom-wrapper");Array.prototype.forEach.call(e,(function(e,t){var n=!0,a=e.querySelectorAll(".custom-wrapper-container > div, .custom-wrapper-container > section");if(Array.prototype.forEach.call(a,(function(e,t){var a=e.className.split(" ");if(a&&a.includes("is-featured")&&(n=!1),-1!==a.indexOf("is-breakpoint")){var o=e.querySelectorAll(".item-content-wrapper > div, .item-content-wrapper > section");Array.prototype.forEach.call(o,(function(e,t){var a=e.className.split(" ");"true"==e.getAttribute("data-has-content")&&-1===a.indexOf("js-wrapper-ignore-content")&&(n=!1)}))}else"true"==e.getAttribute("data-has-content")&&-1===a.indexOf("js-wrapper-ignore-content")&&(n=!1)})),n){var o=e.className;o.indexOf("has-edit-btn")<0&&(e.style.display="none",o.indexOf("wrapper-container-empty")<0&&(e.className+=" wrapper-container-empty"))}else e.setAttribute("data-has-content","true")}))}}function hideEmptyTabs(){var e=document.querySelectorAll("ul.nav-tabs>li>a");document.querySelectorAll("section.is-breakpoint");Array.prototype.forEach.call(e,(function(e,t){var n=e.getAttribute("href");if("#"==n.charAt(0)){var a=document.getElementById(n.substr(1));if(void 0!==a&&null!=a){const t=a.classList.contains("custom-wrapper-container")||a.classList.contains("item-content-wrapper")||a.classList.contains("is-breakpoint");var o=a.querySelectorAll(".custom-wrapper-container > div,.custom-wrapper-container > section,.item-content-wrapper > div,.item-content-wrapper > section"),i=!!t;if(t&&0==o.length)return!0;if(!t&&0==o.length&&e.classList.contains("is-tab-breakpoint"))return e.parentElement.style.display="none",e.parentElement.className+=" tab-nav-empty",!0;Array.prototype.forEach.call(o,(function(e,t){var n=e.className.split(" ");"true"==e.getAttribute("data-has-content")&&-1===n.indexOf("js-wrapper-ignore-content")&&(i=!1)})),(0==a.childNodes.length||i)&&(e.parentElement.style.display="none",e.parentElement.className+=" tab-nav-empty",a.length&&(a.style.display="none"))}}}))}function hideEmptySectionBreakpoints(){var e=document.querySelectorAll("section.is-breakpoint");Array.prototype.forEach.call(e,(function(e,t){var n=e.getElementsByClassName("item-content-wrapper")[0],a=n.querySelectorAll("div"),o=!!n;return 0==a.length||(0==a.length?(e.style.display="none",e.className+=" tab-nav-empty",!0):(Array.prototype.forEach.call(a,(function(e,t){var n=e.className.split(" ");"true"==e.getAttribute("data-has-content")&&-1===n.indexOf("js-wrapper-ignore-content")&&(o=!1)})),void((0==n.childNodes.length||o)&&(e.style.display="none",e.className+=" tab-nav-empty",n.length&&(n.style.display="none")))))}))}function copyEntry(){$(document).on("click",".copy-button",(function(e){e.preventDefault();var t=$(this).attr("href"),n=$(this).data("confirm-text"),a=$(this).data("setting-id"),o=$(this).data("form-url").replace(/'/g,'"'),i=$(this).data("current-culture"),r=[],s=[],l="",c="";""!==o&&(o=JSON.parse(o)),void 0===i&&(i=$("#user_info").data("current-culture")),void 0!==o.keywords&&r.push({text:void 0!==o.keywords[i]&&""!==o.keywords[i]?o.keywords[i]:"Copy Keywords Tags",value:"tags"}),o.assignments&&r.push({text:void 0!==o.assignments[i]&&""!==o.assignments[i]?o.assignments[i]:"Copy Assignments",value:"assignments"}),o.members&&r.push({text:void 0!==o.members[i]&&""!==o.members[i]?o.members[i]:"Copy Members",value:"members"}),o.pipelines&&(s=o.pipelines),o.pipeline_message&&(c=o.pipeline_message),o.new_owner_message&&(l=o.new_owner_message),copyPrompt(i,n,r,s,c,l,t,a,o)}))}function copyPrompt(e,t,n,a,o,i,r,s,l){var c=document.createElement("form"),d=!1,u=!1;if(c.classList.add("bootbox-form"),c.setAttribute("id","prompt-copy"),void 0!==l.mode&&"0"==l.mode&&n.length>0){d=!0;for(var m=0;m<n.length;m++){var p=document.createElement("div"),f=document.createElement("label");p.classList.add("checkbox"),f.innerHTML='<input class="bootbox-input bootbox-input-checkbox" type="checkbox" value="'+n[m].value+'">'+n[m].text,p.appendChild(f),c.appendChild(p)}}if(a.length>0){var h=document.createElement("div"),g=document.createElement("label");selectElement=document.createElement("select"),u=!0,selectElement.classList.add("bootbox-input","bootbox-input-select","form-control"),g.classList.add("control-label","pb-15","pt-15"),g.textContent=o;for(m=0;m<a.length;m++)for(var v=0;v<a[m].stages.length;v++){var y=document.createElement("option"),b=void 0!==a[m].stages[v][e].name?a[m].stages[v][e].name:a[m].stages[v].name;y.value=a[m].stages[v].id,y.text=a[m].name+" - "+b,selectElement.appendChild(y)}h.appendChild(g),h.appendChild(selectElement),c.appendChild(h)}var $=document.createElement("div"),w=document.createElement("div"),x=document.createElement("label");w.classList.add("form-control"),x.innerHTML=i+' <input class="new-owner switchery" type="checkbox" value="1">',w.append(x),$.append(w),c.appendChild($);var k=new Switchery(c.querySelector(".switchery"));bootbox.confirm({title:t,message:c,callback:function(e){if(e){var t=[],n="";if(d)for(var a=document.getElementById("prompt-copy").getElementsByClassName("bootbox-input-checkbox"),o=0;o<a.length;o++)a[o].checked&&t.push(a[o].value);u&&(n=document.getElementById("prompt-copy").getElementsByClassName("bootbox-input-select")[0].value),r+="?",r+="update_owner="+(k.element.checked?"1":"0")+"&",r+=t.length>0?"options="+t.join()+"&":"",r+=""!==n?"pipeline_stage="+n+"&":"",r+="setting="+s,window.location=r}}})}function checkUrlParams(){var e=checkUrlParam("inline-edit"),t=parseInt(checkUrlParam("step"));1==e&&$(".js-toggle-inline-edit").first().trigger("click"),t&&NaN!=t&&t>0&&($("#formWidgets ul.nav-tabs").length&&$("#formWidgets ul.nav-tabs li:nth-child("+t+") a").trigger("click"),$("#entry_view_page ul.nav-tabs").length&&$("#entry_view_page ul.nav-tabs li:nth-child("+t+") a").trigger("click"))}function checkUrlParam(e){var t=location.href,n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null==n?null:n[1]}function cleanFormValues(){void 0!==$('input[name="Form[tags]"]').length&&$('input[name="Form[tags]"]').length>0&&""==$('input[name="Form[tags]"]').val()&&$('input[name="Form[tags]"]').val(" ")}function callReloadAjax(e,t){return in_progress||(in_progress=!0,$.ajax({url:e,success:function(e){(t=t||e.message)&&bootbox.alert(t,(function(){window.location.reload()})),in_progress=!1,window.location.reload()},dataType:"json"})),!1}function giveUpContact(e){var t=e.data("url");if(""==t)return!1;var n=e.data("confirm-text");""!==n?bootbox.confirm(n,(function(e){!0===e&&callReloadAjax(t,!1)})):callReloadAjax(t,!1)}function requestContact(e){$("#modal3").load(e.data("form-url"),(function(e){return $(this).fadeIn("slow").modal("show").on("shown.bs.modal",(function(e){$(".main-loader-fullscreen").hide()})).on("hidden.bs.modal",(function(e){$(".main-loader-fullscreen").show()})),!1})),$(document).on("click","#request-contact-link",(function(e){return e.preventDefault(),$("#validationDiv").html("").hide(),in_progress||(in_progress=!0,$.ajax({type:"POST",url:$(this).data("url"),data:$("form#request-contact-form").serialize(),success:function(e){e.success?($("#modal3").modal("hide"),swal(e.message).then((function(){window.location.reload()}))):$("#validationDiv").html(e.message).show(),in_progress=!1},dataType:"json"})),!1}))}function statusChange(e){$("#modal3").load(e.data("form-url"),(function(e){return $(this).fadeIn("slow").modal("show"),!1})),$(document).on("click","#status-change-link",(function(t){t.preventDefault();var n=e.data("message");return in_progress||(in_progress=!0,$.ajax({type:"POST",url:$(this).data("url"),data:$("form#status-change-form").serialize(),success:function(e){$("#modal3").modal("hide"),e.status&&bootbox.alert('<div class="modal-alert-success" ><i class="glyphicons ok_2 animated bounceIn"></i><div class="message">'+n+"</div></div>"),window.location.reload(),in_progress=!1},dataType:"json"})),!1}))}function removeBadge(e){var t=e.data("url"),n=e.data("confirm-text");""!==n?bootbox.confirm(n,(function(n){!0===n&&callReloadAjax(t,e.data("message"))})):callReloadAjax(t,e.data("message"))}function assignBadge(e){var t=e.data("form-url"),n=e.data("message");if(""===t)return in_progress=!0,$.ajax({url:e.data("url"),dataType:"json",success:function(e){bootbox.alert(e.success?n:e.message,(function(){e.success&&window.location.reload()})),in_progress=!1}}),!1;$("#modal3").load(t,(function(e){return $(this).fadeIn("slow").modal("show"),!1})),$(document).on("click","#assign-badge-link",(function(e){return e.preventDefault(),in_progress||(in_progress=!0,$.ajax({type:"POST",url:$(this).data("url"),data:$("form#assign-badge-form").serialize(),success:function(e){$("#modal3").modal("hide"),bootbox.alert(e.success?n:e.message,(function(){e.success&&window.location.reload()})),in_progress=!1},dataType:"json"})),!1}))}function processMembershipWithConfirm(e){return e.attr("data-confirm-text")&&bootbox.confirm(e.data("confirm-text"),(function(t){!0===t&&processMembershipRequest(e)})),!1}function processMembershipRequest(e){return in_progress||(in_progress=!0,$.ajax({url:e.data("url"),dataType:"json",success:function(t){if(1==t.reload)return bootbox.alert(t.message,(function(){window.location.reload()})),!1;if(1==t.success&&(e.data("autoremove")&&e.closest("tr").hide(),e.find("span")&&e.find("span").html(t.title),e.toggleClass("remove-request"),e.find("i")&&e.find("i").toggleClass("remove-request"),e.hasClass("btn")&&e.toggleClass("btn-default btn-negative"),$("body").hasClass("userActivityPages")&&e.parents("div.marketplace-grid-view").length&&e.parents("div.VueCarousel-slide").fadeOut(),e.removeAttr("title").removeAttr("data-original-title").attr("title",t.title).attr("data-original-title",t.title),e.data("url",t.url),e.data("confirm-text",t.confirm_text),e.hasClass("rec-favs"))){var n=e.data("rec-url");if(""===n)return!1;$.ajax({url:n,success:function(t){t.success&&(e.parents("section.grid_view").remove(),$("#latest-platform-recommendations").find("div.dash-content").append(t.html),0==$("#latest-platform-recommendations").find("div.dash-content").children().length&&$("#latest-platform-recommendations").remove())},dataType:"json"})}""!=t.message&&t.message&&bootbox.alert(t.message),in_progress=!1}})),!1}function toggleCarouselComponent(e){var t=document.getElementsByClassName("sk-carousel");if(0==t.length)return!1;t.forEach((function(t){t&&t.addEventListener("DOMSubtreeModified",(function(){const t=document.querySelector(".lightbox-widget-container");t&&(t.style.display=e?"none":"")}))}))}function enableFirstValidBreakpoint(){const e=document.querySelectorAll("li[class^=tab-item-breakpoint-]");let t=!1;for(let n=0;n<e.length;n+=1){const a=getPagebreakContainer(e[n]);e[n].classList.contains("tab-nav-empty")?(e[n].classList.remove("active"),document.getElementById(a.id).classList.remove("active")):t||(t=e[n],e[n].classList.add("active"),document.getElementById(a.id).classList.add("active"))}}function getPagebreakContainer(e){const t="item-breakpoint-"+e.querySelector("a").getAttribute("datatarget").replace(/[^0-9]/g,"");return document.getElementById(t)}function toggleWrapperChildrenContent(e){const t=document.querySelectorAll("li[class^=tab-item-breakpoint-]");for(let n=0;n<t.length;n+=1){const a=getPagebreakContainer(t[n]);if(!a)continue;const o=a.querySelector(".item-content-wrapper");if(!o)continue;let i=!1;const r=o.children;for(let e=0;e<r.length;e+=1)if("none"!=r[e].style.display){i=!0;break}i||(t[n].style.display=e,"none"==e?t[n].classList.add("tab-nav-empty"):t[n].classList.remove("tab-nav-empty"))}}function toggleWrapperAsTable(e){const t=document.querySelectorAll("section[class^=custom-wrapper]");for(let n=0;n<t.length;n+=1){const a=t[n];if(!/custom-wrapper/.test(a.classList.value)||!/table-[0-9]{1,}-cols/.test(a.classList.value))continue;const o=a.querySelectorAll("div");let i=!1;for(let e=0;e<o.length;e+=1){const t=o[e];/item-widget-[0-9]{1,}/.test(t.classList.value)&&!/table-header/.test(t.classList.value)&&(i=!!i||"true"==t.getAttribute("data-cell-has-content"))}if(!i){a.style.display=e;const t=a.previousElementSibling;null!=t&&t.classList.contains("item-type-2")&&(t.style.display=e)}}}function initFroalaVimeoVideo(){const e=document.querySelectorAll(".wysiwyg-video-iframe-fancybox");for(let t=0;t<e.length;t+=1)e[t].setAttribute("data-fancybox","forced-init")}function toggleIntesaNestedCounter(e,t){if(!e){const e=document.getElementsByClassName("toggle-intesa-number");for(let n=0;n<e.length;n+=1)e[n].style.display=t;return}const n=document.getElementsByClassName(e);for(let e=0;e<n.length;e+=1){const t=n[e].querySelector("dd"),a=!(!t||!t.parentElement)&&t.parentElement.parentElement;if(t&&a){"false"===a.getAttribute("data-has-content")&&(a.classList.add("toggle-intesa-number"),a.style.display="none")}}}$(document).ready((function(){customizeWidgets(0),$(document).on("click",".add-entry",(function(e){if("#"===$(this).attr("href"))return bootbox.alert($(this).data("privacy")),e.preventDefault(),!1})),$(document).on("click",".edit-button",(function(e){if($("section.item-breakpoint-navigation ul.nav-tabs").length)return window.location=$(this).attr("href")+"/"+$("section.item-breakpoint-navigation ul.nav-tabs li.active").data("step-number"),e.preventDefault(),!1})),$(document).on("click","#submit_idea_terms",(function(){$("#preview_page_form_btn").prop("disabled",!$(this).prop("checked"))})),$(document).on("click",".snapshot-actions-wrapper a.export",(function(e){e.preventDefault(),showExportModal($(this))})),$(document).on("click",".nav-highlight-btn a.export",(function(e){e.preventDefault(),showExportModal($(this))})),$(document).on("click",".show-more",(function(e){var t=$(this),n=t.parent().prev("div.messagecontent");0==t.attr("data-expanded")?(t.attr("data-expanded",1),linkText=t.attr("data-less-text"),n.switchClass("hideContent","showContent",400)):(t.attr("data-expanded",0),linkText=t.attr("data-more-text"),n.switchClass("showContent","hideContent",400)),$(this).text(linkText),e.preventDefault()})),$(".qat-TitleWidget").each((function(){var e=$(this).next();(e.hasClass("qat-TitleWidget")||void 0===e.attr("class"))&&$(this).remove()})),$(".boxIS-desc").each((function(){0===$(this).children().length&&($("#nav_"+$(this).parent().attr("id")).remove(),$(this).parent().remove())})),$(".item-note > div.item-content-wrapper").each((function(){0===$(this).children().length&&$(this).parent().remove()})),$("article.f-widget-content").each((function(){0===$(this).children().length&&$(this).parent().remove()})),$("figure.f-widget").each((function(){0===$(this).find("article").children().length&&$(this).remove()})),$("div.panel-body").not(".fix-panel-body").each((function(){if(!$(this).hasClass("control-group")&&0===$(this).children().length){var e=$(this).parents("div.panel-body");$(this).parent().parent().remove(),e&&0===e.children().length&&e.parent().parent().remove()}})),hideEmptyTabs(),hideEmptySectionBreakpoints(),$("div.panel-group").each((function(){0===$(this).children().length&&$(this).parent().remove()})),$("div.form-widget-answers").each((function(){0===$(this).children().length&&$(this).remove()})),$.isFunction("setTooltip")&&setTooltip(),$("#actions-dropdown").find("ul").children("li").length||$("#actions-dropdown").hide(),$("#actionsBox").find("ul").children("li").length||$("#actionsBox").hide(),$(".upload_container .fancybox-thumbs").length&&$(".upload_container .fancybox-thumbs").fancybox({prevEffect:"none",nextEffect:"none",closeBtn:!0,arrows:!0,nextClick:!1,helpers:{thumbs:{width:50,height:50}}}),$(".upload_container .various").length&&$(".upload_container .various").fancybox({maxWidth:800,maxHeight:800,fitToView:!1,autoSize:!1,closeClick:!1,openEffect:"none",closeEffect:"none"}),$(".upload_container").on("click","a.fancypdf",(function(){var e="#gdocsviewer_"+$(this).attr("data-id");$(e).media({width:"100%",height:"100%"}),$(e).attr("class","mediaviewer"),$(e).prepend('<div style="margin: 0 auto; text-align: center;">'+$(this).attr("title")+"</div>"),$.fancybox({content:$(".mediaviewer").html(),type:"iframe",width:"100%",height:"100%",autoSize:!1,afterLoad:function(){$(".mediaviewer").each((function(){$(this).media("undo")}))}}),$(".mediaviewer").each((function(){$(this).media("undo")}))})),$(".fancybox-media").length&&$(".fancybox-media").attr("rel","media-gallery").fancybox({openEffect:"none",closeEffect:"none",prevEffect:"none",nextEffect:"none",autoScale:"true",scrolling:"no",arrows:!1,helpers:{media:{},buttons:{}}}),$(document).on("click",".sk-add-to-log",(function(){if(!$(this).data("log-data"))return!1;$.ajax({type:"POST",url:$(this).data("logger-url"),data:{activity_type:$(this).data("activity-type"),object_id:$(this).data("object-id"),request_uri:$(this).data("request-uri"),title:$(this).data("title")},success:function(e){console.log(e)}})})),$(document).on("click",".follow-button, .own-button, .member-button",(function(){var e=$(this),t=e.data("url"),n=e.data("confirm-text");return""===t?(""!==n&&bootbox.alert(n),!1):(void 0!==n&&""!==n&&n?processMembershipWithConfirm(e):processMembershipRequest(e),!1)})),$(document).on("click",".contact-button",(function(){var e=$(this),t=e.data("url"),n=e.data("redirect"),a=e.data("confirm-text"),o=e.data("contact-status");return""===t&&void 0===o&&""===o||null!=n&&""!=n?(""!==a&&bootbox.alert(a),"#"!=e.attr("href")&&(window.location=e.attr("href")),!1):(o?giveUpContact(e):requestContact(e),!1)})),$(document).on("click",".status-change-button",(function(){statusChange($(this))})),$(document).on("click",".assign-badge-button",(function(){var e=$(this),t=e.data("url"),n=e.data("confirm-text");return""===t?(""!==n&&bootbox.alert(n),!1):(0!=e.data("contact-status")?removeBadge(e):assignBadge(e),!1)})),$(document).on("click",".contact-admin-button, .messaging-button, .share_entries, .allocate-amount-button, .settlement-amount-button, .limit-contact-button",(function(){var e=$(this),t=e.data("url"),n=e.data("confirm-text");if(""===t){""!==n&&bootbox.alert(n);var a=e.attr("href");return""!=a&&(window.location=a),!1}return $("#modal3").load(t,(function(e){return $(this).fadeIn("slow").modal("show"),!1})),!1})),$("#closeAlert").click((function(){$(this).parent().hide()})),$(document).on("click","#contact_admin_link, #ledger-record-updation-link, #new-thread-form-link",(function(e){e.preventDefault();var t=$(this).data("form-id");if(!in_progress){in_progress=!0;var n=$("form#"+t).serialize(),a=$("form#"+t+" #is-referral").is(":checked");$.ajax({type:"POST",url:$(this).data("url"),data:n,success:function(e){e.success&&($("#modal3").modal("hide"),a&&window.localStorage.setItem("referral_"+$("form#"+t+" #receiver_id").val(),!0)),bootbox.alert(e.message),in_progress=!1},dataType:"json"})}return!1})),$(document).on("click",".ignore-recommendation",(function(){var e=$(this),t=e.data("url");return""===t||in_progress||(in_progress=!0,$.ajax({url:t,success:function(t){if(t.success){e.data("reload")&&window.location.reload();var n=e.parents("div.entry-content");if(""!=t.html)n.html(t.html),$.isFunction("setTooltip")&&setTooltip();else{var a=n.parents("div.item");a.parents("div.carousel");if(n.remove(),!a.children().length){var o=a.parents("div.carousel").find("ul.carousel-indicators");o.find("li.carousel-slider").last().remove(),o.children().length?(a.siblings().first().addClass("active"),a.remove()):o.parents("section").remove()}}}in_progress=!1},dataType:"json"})),!1})),$(document).on("click",".unauthenticated-own-button, .unauthenticated-member-button, .unauthenticated-contact-button, .unauthenticated-follow-button",(function(){var e=$(this).data("confirm-text");return $("#modal3").load($("a#signin").data("url"),(function(){$(this).fadeIn("slow").modal("show"),e&&$(this).find("#form-ajax").prepend('<p class="alert alert-info">'+e+"</p>")})),!1})),$(".remove-assignment").on("click",(function(){var e=$(this).data("url");return bootbox.confirm($(this).data("confirm-text"),(function(t){!0===t&&(document.location.href=e)})),!1})),$("body").on("click",".team_assign_roles",(function(e){return $("#modal3").html(""),$("#modal3").load($(this).data("url"),(function(){$(this).fadeIn("slow").modal("show")})),e.preventDefault(),!1})),$("body").on("click",".shared_entry-delete-button",(function(e){var t=$(this),n=t.data("confirm-text");e.preventDefault(),bootbox.confirm(n,(function(e){!0===e&&(in_progress||(in_progress=!0,$.ajax({type:"POST",url:t.data("url"),success:function(e){"success"==e.status?t.closest("tr").remove():bootbox.alert(e.message),in_progress=!1},dataType:"json"})))}))})),$(document).on("click",".personalized-template-data",(function(){$("#message").val($(this).data("content"))})),$(document).on("click",".personalized-template-data-remove",(function(){var e=$(this);return $.ajax({type:"GET",url:e.data("url"),success:function(t){t.success&&($("#alert-info").html(t.message).addClass("is-visible"),setTimeout((function(){$("#alert-info").removeClass("is-visible")}),3e3),e.parents("li").remove())},dataType:"json"}),!1})),$(document).on("click","#save-personalized-template",(function(e){$("#alert-info").html(""),0==$("#personalized-template-form").data("show")?($("#personalized-template-form").show(),$("#personalized-template-form").data("show",1),$(".modal-body-overflow").animate({scrollTop:$(".modal-body-overflow").prop("scrollHeight")},1e3)):($("#personalized-template-form").hide(),$("#personalized-template-form").data("show",0)),e.preventDefault()})),$(document).on("click","#submit-personalized-template-form",(function(e){$("#personalized_templates_content").val($("#message").val());var t=$("#personalized-template-form").parents("form").serialize();$.ajax({type:"POST",url:$("#personalized-template-form").data("url"),data:t,success:function(e){$("#alert-info").html(e.message).addClass("is-visible"),setTimeout((function(){$("#alert-info").removeClass("is-visible")}),3e3),e.success&&($("#personalized-template-form").hide(),$("#personalized-template-list").append(e.li))},dataType:"json"}),e.preventDefault()})),$(".empty-text").each((function(){$(this).parents(".top-content-parent, .is-featured, .is-standard").hide()})),$(".element-title").each((function(){$(this).hide()})),$('.content-value[data-conditional="1"]').each((function(){$(this).parents(".top-content-parent, .is-featured, .is-standard").hide()})),$(".js-toggle-inline-edit").on("click",(function(e){if(e.preventDefault(),$(this).data("edit-mode")){$(".js-toggle-inline-edit").html($(this).data("enable")),$(".js-toggle-inline-edit").data("edit-mode",0),$('.content-value[data-element-editable="1"]').each((function(){$(this).removeClass("js-editable-content edit-highlight"),$(this).hasClass("showOnEdit")&&$(this).addClass("hidden")})),$(".empty-text").each((function(){$(this).parents(".top-content-parent, .is-featured, .is-standard").hide()})),$(".element-title").each((function(){$(this).hide()})),$('.content-value[data-conditional="1"]').each((function(){$(this).parents(".top-content-parent, .is-featured, .is-standard").hide()}));for(var t=document.getElementsByClassName("inline-labels"),n=0;n<t.length;n++)t[n].style="display:none;";toggleCarouselComponent(!1),customizeWidgets(0),hideEmptyWrappers(),hideEmptyTabs(),hideEmptySectionBreakpoints(),toggleWrapperAsTable("none"),toggleWrapperChildrenContent("none"),enableFirstValidBreakpoint(),"Tech-marketplace"===platformName&&toggleIntesaNestedCounter(null,"none")}else{$(".js-toggle-inline-edit").html($(this).data("disable")),$(".js-toggle-inline-edit").data("edit-mode",1),$('.content-value[data-element-editable="1"]').each((function(){$(this).addClass("js-editable-content edit-highlight"),$(this).hasClass("showOnEdit")&&$(this).removeClass("hidden")})),$(".empty-text").each((function(){$(this).parents(".top-content-parent, .is-featured, .is-standard").attr("style","")})),$(".element-title").each((function(){$(this).show()})),$(".wrapper-container-empty").show();var a=document.querySelectorAll(".tab-nav-empty > a");Array.prototype.forEach.call(a,(function(e,t){var n;e.parentElement.style.display="";var a=e.getAttribute("href"),o=document.getElementById(a.substr(1));"none"===o.style.display&&(o.style.display="");const i=null!==(n=o.id)&&void 0!==n&&n;if(i.match(/^item-breakpoint-[0-9]{1,}$/)){let e=o.querySelector(".item-content-wrapper");if(e&&0==e.children.length){const e=document.querySelectorAll(".tab-"+i);for(const t of e)t.classList.contains("tab-nav-empty")&&t.remove()}}})),$('.content-value[data-conditional="1"]').each((function(){$(this).parents(".top-content-parent, .is-featured, .is-standard").hide()}));for(t=document.getElementsByClassName("inline-labels"),n=0;n<t.length;n++)t[n].style="display:block;";toggleCarouselComponent(!0),customizeWidgets(1),toggleWrapperAsTable(""),toggleWrapperChildrenContent(""),"Tech-marketplace"===platformName&&toggleIntesaNestedCounter(null,"")}return $("body").toggleClass("editing"),!1})),$(document).on("click",".js-editable-content a",(function(e){e.preventDefault()})),$(document).on("click","content-value.js-editable-content",(function(){return $("body").hasClass("fancybox-active")&&$.fancybox.close(),$("body").addClass("is-loading"),$("#modal3").load($(this).data("process-url"),(function(e){return $(this).fadeIn("slow").modal("show"),initializeForm(),initializeFileUpload($("#modal3")),$("body").removeClass("is-loading"),!1})),!1})),$(document).on("click",".js-editable-content",(function(){if("button-form-rating"==$(this).attr("id")){if(null==$(this).data("process-url"))return!1;$("#modal3").addClass("modal-in-parent")}else $("#modal3").removeClass("modal-in-parent");hasSave=$(this).data("save-button-text"),$("body").hasClass("fancybox-active")&&$.fancybox.close(),$("body").addClass("is-loading");var e=$(this).data("process-url"),t=$(this).parent();return e=e.replace("REPLACE_IDS",(function(){return t.find("dd[data-element-id]").map((function(){return $(this).attr("data-element-id")})).get().join(";")})),$("#modal3").load(e,(function(e){return $(this).fadeIn("slow").modal("show"),initializeForm(),initializeFileUpload($("#modal3")),$("body").removeClass("is-loading"),!1})),!1})),$(document).on("click",".content-value[data-element-editable=0]",(function(){var e=void 0!==$(this).data("error-message")?$(this).data("error-message"):"You don't have the permission to edit this value.";""!=e&&$("body").hasClass("editing")&&bootstrap_alert("alert-error",e,"fast")})),$(document).on("DOMSubtreeModified",".po-MainSection_Footer .b-OrizontalList",(function(){$(this).hasClass("js-editable-content")?$(this).parent().find("b.keywords-title").show():$(this).parent().find("b.keywords-title").hide()})),$(document).on("submit","#submission_form",(function(e){if(!$(this).find(".infoholderCustom1").length)return!1})),$(document).on("click","#inline_edit_form_link",(function(e){e.preventDefault();var t=$(this).parents(".modal-content").find("#submission_form").serialize();return in_progress||(in_progress=!0,$("body").addClass("is-loading"),cleanFormValues(),$.ajax({type:"POST",url:$(this).data("url"),data:t,success:function(e){if(e.success){if(null!=e.pipModalResponse){var t=document.getElementById("button-form-rating");null!=t&&null!=e.label&&(""==e.label?t.parentElement.remove():(t.innerText=e.label,t.classList.remove("js-editable-content"))),$("#modal3").modal("hide"),swal(e.pipModalResponse).then((function(){window.location.reload()}))}else $("#modal3").modal("hide");$.each(e.answers,(function(e,t){if(t.crowdfunding)storeCrowdfunding.dispatch("initialLoad",{goal:t.data.goal,startDate:t.data.start_date,endDate:t.data.end_date});else{var n=$('.content-value[data-element-id="'+e+'"]');t.dontPurify?(t=t.html,n.html(t)):n.html(DOMPurify.sanitize(t,{USE_PROFILES:{html:!0}})),n.closest(".top-content-parent, .is-featured, .is-standard").attr("data-has-content",-1==t.indexOf("empty-text")?"true":"false"),-1==t.indexOf("empty-text")?n.removeClass("showOnEdit"):n.addClass("showOnEdit")}})),$.each(e.conditional,(function(e,t){var n=$('.content-value[data-element-id="'+e+'"]');n.attr("data-conditional",t?0:1),t?n.parents(".top-content-parent, .is-featured, .is-standard").show():n.parents(".top-content-parent, .is-featured, .is-standard").hide()})),e.carousel&&$.each(e.carousel,(function(e,t){var n=document.getElementById("sk-gallery-carousel-update-"+e);n.value=t,n.focus(),n.dispatchEvent(new Event("keypress",{key:32}))})),$(".js-toggle-inline-edit").length||$(".empty-text").each((function(){$(this).parents(".top-content-parent, .is-featured, .is-standard").hide()}))}else{$("#modal3 .modal-body").html(e.form);var n=$(".select2-user");initializeForm(),initializeSwitchery(),n.length&&setUserSelectHTML(n),initializeModalCustomFormSelect(),initializeRangeFunding()}in_progress=!1,$("body").removeClass("is-loading")},dataType:"json"})),!1})),$(document).on("click",".edit-modal",(function(e){e.preventDefault(),$("#modal3").load($(this).attr("href"),(function(e){try{var t=JSON.parse(e);$("#modal3").modal("hide"),bootbox.alert(t.error,(function(){window.location.reload()}))}catch(e){return $(this).fadeIn("slow").modal("show"),!1}}))})),$(document).on("click","#submit-form-modal-input",(function(e){$("#submission-form-modal").submit()})),$(document).on("submit","#submission-form-modal",(function(e){e.preventDefault(),$("#spinner-form-modal").show();var t=$(this).parents(".modal-content").first().find(".modal-footer button");t.hide(),$("#submission-form-modal ul.error_list").remove();var n=$(this).data("url");n=n.replace("REPLACE_STEP","all"),$.ajax({type:"POST",url:n,data:$(this).serialize(),success:function(e){if("success"==e.status)$("#modal3").modal("hide"),$("#loader").hide(),window.location.reload();else{for(var n in e.form)$('<ul class="error_list"></ul>').append($("<li>"+e.form[n]+"</li>")).insertBefore('[name="Form['+n+']"]');var a=$('<ul class="error_list"></ul>').append($("<li></li>").text(e.message));for(var n in $("#modal3").scrollTop(0),t.show(),$("#spinner-form-modal").hide(),$("#submission-form-modal").prepend(a),e.form)if(e.form.hasOwnProperty(n)){var o=$('<ul class="error_list"></ul>').append($("<li></li>").text(e.form[n]));$("#submission-form-modal .control-group[data-element-id="+n+"] > label").prepend(o)}$("#main-loader-fullscreen").hide()}},dataType:"json"})})),checkUrlParams(),copyEntry(),hideEmptyWrappers(),toggleWrapperChildrenContent("none"),enableFirstValidBreakpoint(),toggleWrapperAsTable("none"),initFroalaVimeoVideo(),"Tech-marketplace"===platformName&&toggleIntesaNestedCounter("element-data-main-section","")}));