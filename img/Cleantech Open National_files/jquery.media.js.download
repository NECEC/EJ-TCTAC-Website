!function(a){var e=document.documentMode||0,t=/MSIE/.test(navigator.userAgent),i=t&&(/MSIE (6|7|8)\.0/.test(navigator.userAgent)||e<9);a.fn.media=function(e,t,i){return"undo"==e?this.each((function(){var e=a(this),t=e.data("media.origHTML");t&&e.replaceWith(t)})):this.each((function(){"function"==typeof e&&(i=t,t=e,e={});var r=function(e,t){t=t||{};var i=a(e),r=e.className||"",s=a.metadata?i.metadata():a.meta?i.data():{},n=(s=s||{}).width||parseInt((r.match(/\bw:(\d+)/)||[])[1]||0)||parseInt((r.match(/\bwidth:(\d+)/)||[])[1]||0),l=s.height||parseInt((r.match(/\bh:(\d+)/)||[])[1]||0)||parseInt((r.match(/\bheight:(\d+)/)||[])[1]||0);n&&(s.width=n);l&&(s.height=l);r&&(s.cls=r);for(var o=0;o<e.attributes.length;o++){var p=e.attributes[o],d=a.trim(p.name);0===d.indexOf("data-")&&(d=d.substring("data-".length),s[d]=p.value)}p=a.fn.media.defaults;var m=t,f=s,h={params:{bgColor:t.bgColor||a.fn.media.defaults.bgColor}},c=a.extend({},p,m,f);a.each(["attrs","params","flashvars","silverlight"],(function(e,t){c[t]=a.extend({},h[t]||{},p[t]||{},m[t]||{},f[t]||{})})),void 0===c.caption&&(c.caption=i.text());return c.src=c.src||i.attr("href")||i.attr("src")||"unknown",c}(this,e);"function"==typeof t&&t(this,r);var s=function(){var e="";for(var t in a.fn.media.defaults.players)e.length&&(e+=","),e+=a.fn.media.defaults.players[t].types;return new RegExp("\\.("+e.replace(/,/gi,"|")+")\\b")}().exec(r.src.toLowerCase())||[""];r.type?s[0]=r.type:s.shift();for(var n=0;n<s.length;n++)if(fn=s[n].toLowerCase(),o(fn[0])&&(fn="fn"+fn),a.fn.media[fn]){var l=a.fn.media[fn+"_player"];if(r.params||(r.params={}),l){var p="autostart"==l.autoplayAttr;r.params[l.autoplayAttr||"autoplay"]=p?r.autoplay?1:0:!!r.autoplay}var d=a.fn.media[fn](this,r);if(d.css("backgroundColor",r.bgColor).width(r.width),r.canUndo){var m=a("<div></div>").append(this);d.data("media.origHTML",m.html())}"function"==typeof i&&i(this,d[0],r,l.name);break}}))},a.fn.media.mapFormat=function(e,t){e&&t&&a.fn.media.defaults.players[t]&&(o((e=e.toLowerCase())[0])&&(e="fn"+e),a.fn.media[e]=a.fn.media[t],a.fn.media[e+"_player"]=a.fn.media.defaults.players[t])},a.fn.media.defaults={standards:!0,canUndo:!0,width:400,height:400,autoplay:0,bgColor:"#ffffff",params:{wmode:"transparent"},attrs:{},flvKeyName:"file",flashvars:{},flashVersion:"7",expressInstaller:null,flvPlayer:"mediaplayer.swf",mp3Player:"mediaplayer.swf",silverlight:{inplaceInstallPrompt:"true",isWindowless:"true",framerate:"24",version:"0.9",onError:null,onLoad:null,initParams:null,userContext:null}},a.fn.media.defaults.players={flash:{name:"flash",title:"Flash",types:"flv,mp3,swf",mimetype:"application/x-shockwave-flash",pluginspage:"http://www.adobe.com/go/getflashplayer",ieAttrs:{classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",type:"application/x-oleobject",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+a.fn.media.defaults.flashVersion}},quicktime:{name:"quicktime",title:"QuickTime",mimetype:"video/quicktime",pluginspage:"http://www.apple.com/quicktime/download/",types:"aif,aiff,aac,au,bmp,gsm,mov,mid,midi,mpg,mpeg,mp4,m4a,psd,qt,qtif,qif,qti,snd,tif,tiff,wav,3g2,3gp",ieAttrs:{classid:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",codebase:"http://www.apple.com/qtactivex/qtplugin.cab"}},realplayer:{name:"real",title:"RealPlayer",types:"ra,ram,rm,rpm,rv,smi,smil",mimetype:"audio/x-pn-realaudio-plugin",pluginspage:"http://www.real.com/player/",autoplayAttr:"autostart",ieAttrs:{classid:"clsid:CFCDAA03-8BE4-11cf-B84B-0020AFBBCCFA"}},winmedia:{name:"winmedia",title:"Windows Media",types:"asx,asf,avi,wma,wmv",mimetype:function(){for(var a=navigator.plugins||[],e=0;e<a.length;e++){if("np-mswmp.dll"==a[e].filename)return!0}return!1}()?"application/x-ms-wmp":"application/x-mplayer2",pluginspage:"http://www.microsoft.com/Windows/MediaPlayer/",autoplayAttr:"autostart",oUrl:"url",ieAttrs:{classid:"clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6",type:"application/x-oleobject"}},img:{name:"img",title:"Image",types:"gif,png,jpg"},iframe:{name:"iframe",types:"html,pdf"},silverlight:{name:"silverlight",types:"xaml"}};var r=1;for(var s in a.fn.media.defaults.players){var n=a.fn.media.defaults.players[s].types;a.each(n.split(","),(function(e,t){o(t[0])&&(t="fn"+t),a.fn.media[t]=a.fn.media[s]=l(s),a.fn.media[t+"_player"]=a.fn.media.defaults.players[s]}))}function l(a){return function(e,t){return p(e,t,a)}}function o(a){return"0123456789".indexOf(a)>-1}function p(e,r,s){var n=a(e),l=a.fn.media.defaults.players[s];if("iframe"==s)(l=a('<iframe width="'+r.width+'" height="'+r.height+'" >')).attr("src",r.src),l.css("backgroundColor",l.bgColor);else if("img"==s)(l=a("<img>")).attr("src",r.src),r.width&&l.attr("width",r.width),r.height&&l.attr("height",r.height),l.css("backgroundColor",l.bgColor);else if(i){var o=['<object width="'+r.width+'" height="'+r.height+'" '];for(var p in r.attrs)o.push(p+'="'+r.attrs[p]+'" ');for(var p in l.ieAttrs||{}){var d=l.ieAttrs[p];"codebase"==p&&"https:"==window.location.protocol&&(d=d.replace("http","https")),o.push(p+'="'+d+'" ')}o.push("></object>");var m=['<param name="'+(l.oUrl||"src")+'" value="'+r.src+'">'];for(var p in r.params)m.push('<param name="'+p+'" value="'+r.params[p]+'">');l=document.createElement(o.join(""));for(var f=0;f<m.length;f++)l.appendChild(document.createElement(m[f]))}else if(r.standards){o=['<object type="'+l.mimetype+'" width="'+r.width+'" height="'+r.height+'"'];if(r.src&&o.push(' data="'+r.src+'" '),t)for(var p in l.ieAttrs||{}){d=l.ieAttrs[p];"codebase"==p&&"https:"==window.location.protocol&&(d=d.replace("http","https")),o.push(p+'="'+d+'" ')}for(var p in o.push(">"),o.push('<param name="'+(l.oUrl||"src")+'" value="'+r.src+'">'),r.params)"wmode"==p&&"flash"!=s||o.push('<param name="'+p+'" value="'+r.params[p]+'">');o.push("<div><p><strong>"+l.title+" Required</strong></p><p>"+l.title+' is required to view this media. <a href="'+l.pluginspage+'">Download Here</a>.</p></div>'),o.push("</object>")}else{o=['<embed width="'+r.width+'" height="'+r.height+'" style="display:block"'];for(var p in r.src&&o.push(' src="'+r.src+'" '),r.attrs)o.push(p+'="'+r.attrs[p]+'" ');for(var p in l.eAttrs||{})o.push(p+'="'+l.eAttrs[p]+'" ');for(var p in r.params)"wmode"==p&&"flash"!=s||o.push(p+'="'+r.params[p]+'" ');o.push("></embed>")}var h=e.id?' id="'+e.id+'"':"",c=r.cls?' class="'+r.cls+'"':"",u=a("<div"+h+c+">");return n.after(u).remove(),i||"iframe"==s||"img"==s?u.append(l):u.html(o.join("")),r.caption&&a("<div>").appendTo(u).html(r.caption),u}a.fn.media.swf=function(e,t){if(!window.SWFObject&&!window.swfobject){if(t.flashvars){var i=[];for(var s in t.flashvars)i.push(s+"="+t.flashvars[s]);t.params||(t.params={}),t.params.flashvars=i.join("&")}return p(e,t,"flash")}var n=e.id?' id="'+e.id+'"':"",l=t.cls?' class="'+t.cls+'"':"",o=a("<div"+n+l+">");if(window.swfobject)a(e).after(o).appendTo(o),e.id||(e.id="movie_player_"+r++),swfobject.embedSWF(t.src,e.id,t.width,t.height,t.flashVersion,t.expressInstaller,t.flashvars,t.params,t.attrs);else{a(e).after(o).remove();var d=new SWFObject(t.src,"movie_player_"+r++,t.width,t.height,t.flashVersion,t.bgColor);for(var m in t.expressInstaller&&d.useExpressInstall(t.expressInstaller),t.params)"bgColor"!=m&&d.addParam(m,t.params[m]);for(var s in t.flashvars)d.addVariable(s,t.flashvars[s]);d.write(o[0])}return t.caption&&a("<div>").appendTo(o).html(t.caption),o},a.fn.media.flv=a.fn.media.mp3=function(e,t){var i=t.src,r=/\.mp3\b/i.test(i)?t.mp3Player:t.flvPlayer,s=t.flvKeyName;i=encodeURIComponent(i),t.src=r,t.src=t.src+"?"+s+"="+i;var n={};return n[s]=i,t.flashvars=a.extend({},n,t.flashvars),a.fn.media.swf(e,t)},a.fn.media.xaml=function(e,t){if(!window.Sys||!window.Sys.Silverlight){if(a.fn.media.xaml.warning)return;return a.fn.media.xaml.warning=1,void alert("You must include the Silverlight.js script.")}var i={width:t.width,height:t.height,background:t.bgColor,inplaceInstallPrompt:t.silverlight.inplaceInstallPrompt,isWindowless:t.silverlight.isWindowless,framerate:t.silverlight.framerate,version:t.silverlight.version},s={onError:t.silverlight.onError,onLoad:t.silverlight.onLoad},n=e.id?' id="'+e.id+'"':"",l=t.id||"AG"+r++,o=t.cls?' class="'+t.cls+'"':"",p=a("<div"+n+o+">");return a(e).after(p).remove(),Sys.Silverlight.createObjectEx({source:t.src,initParams:t.silverlight.initParams,userContext:t.silverlight.userContext,id:l,parentElement:p[0],properties:i,events:s}),t.caption&&a("<div>").appendTo(p).html(t.caption),p}}(jQuery);